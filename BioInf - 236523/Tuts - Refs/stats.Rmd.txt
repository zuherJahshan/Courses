--- title: "Tutorial 2 - Statistics" author: "Almog Angel" date: "10/27/2021" output: html_document --- ## Corona cabinet challenge ```{r} vac_by_city <- read.csv("/Users/almogang/Documents/intro_to_bioinformatics/tutorial_2/vaccinated_city_table_ver_00246.csv") head(vac_by_city) ``` ## Orginaze data - Sample 7 cities per gorup
```{r} center <- c(5000, 6600, 8600, 6400, 6300, 8300, 7900) # Tel Aviv-Yafo, Holon, Ramat-Gan, Herzeliya, Givatayim, Rishon LeZion and Petach-Tikva periphery <- c(8000, 9100, 4100, 1139, 2600, 6700, 7700) # Zefat, Nahariya, Katzrin, Carmiel, Eilat, Tiberias and Afula cent_vs_perip <- vac_by_city[vac_by_city$CityCode %in% c(center, periphery),] unique(cent_vs_perip$CityName) ``` - Take only data of third dose ```{r} colnames(cent_vs_perip) third_dose_cols <- which(startsWith(colnames(cent_vs_perip), "third")) cent_vs_perip <- cent_vs_perip[,c(1:3, third_dose_cols)] ``` - Take only most recent data ```{r} cent_vs_perip <- cent_vs_perip[cent_vs_perip$Date == "2021-10-26",] cent_vs_perip ``` - Take the sum of vaccinated per city (all age groups) ```{r} # Convert values to numeric cent_vs_perip[,4:ncol(cent_vs_perip)] <- sapply(cent_vs_perip[,4:ncol(cent_vs_perip)], as.numeric) # Calculate the total number of vaccination per city cent_vs_perip$total_vac <- rowSums(cent_vs_perip[,4:ncol(cent_vs_perip)]) # Load information about the population of each city city_code2population <- read.csv("/Users/almogang/Documents/intro_to_bioinformatics/tutorial_2/city_code2population.csv") # Assign population to the cities in the table cent_vs_perip$city_population <- sapply(cent_vs_perip$CityCode, function(x) city_code2population[city_code2population$city_code == x,]$total) # Calculate the relative vaccination per city cent_vs_perip$relative_vac <- round(cent_vs_perip$total_vac/cent_vs_perip$city_population *100, 2) head(cent_vs_perip) ``` - Visualize the data with boxplot ```{r} library(ggplot2) library(stringi) cent_vs_perip$location <- as.factor(ifelse(cent_vs_perip$CityCode %in% center, "Center", "Periphery")) ggplot(cent_vs_perip, aes(x=location, y=relative_vac)) + geom_boxplot(aes(fill=location)) + geom_point() + geom_text(aes(label=stri_reverse(CityName)), hjust=0.5, vjust=-1) ``` ## ToDo: - Define the null and alternative hypothesis - Run a t-test using the t.test() function - Report the t- and p-values - What is your conclusion? ```{r} # Run t-test here: ```